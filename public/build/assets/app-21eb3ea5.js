window.onload=()=>{a(window.location.pathname.slice(1));let e=document.querySelectorAll(".menu__link"),t=document.querySelector(".main"),n=document.querySelector(".open");n.onclick=()=>{t.classList.toggle("active")},e.forEach(c=>{c.onclick=r=>{a(r.srcElement.id)}})};let i;function a(e){i&&clearInterval(i);let t=document.querySelector(".content__title");l(".change","active",!0),l(".menu__link","active",!1),setTimeout(()=>{switch(e){case"project":o("http://curriculum.test/api/projects"),t.innerText="Projects",l("#project","active",!0);break;case"contact":o("http://curriculum.test/api/contact"),t.innerText="Contact",l("#contact","active",!0);break;case"skill":o("http://curriculum.test/api/skill"),t.innerText="Skills",l("#skill","active",!0);break;case"about":o("http://curriculum.test/api/about"),t.innerText="About me",l("#about","active",!0);break;default:o("http://curriculum.test/api/home"),t.innerText=" ",l("#home","active",!0),setTimeout(()=>{i=m()},500)}},200)}function o(e){let t=document.querySelector(".content--container");t.querySelector("div")&&t.querySelector("div").remove(),fetch(e).then(n=>n.json()).then(n=>{u(n,t)}).catch(n=>{let c=document.querySelector(".content__title");c.innerText="Error",l(".change","active",!1)})}async function u(e,t){let n=document.createElement(e.element);if(n.classList.add(e.className),e.link&&(n.setAttribute("href",e.link),n.setAttribute("target","__blank")),e.img&&n.setAttribute("src",e.img),typeof e.content=="object"){let r=Object.keys(e.content);for(var c=0;c<r.length;c++)u(e.content[r[c]],n)}else n.innerHTML=e.content;t.appendChild(n),l(".change","active",!1)}function l(e,t,n){let c=document.querySelectorAll(e);n?c.forEach(r=>{r.classList.add(t)}):c.forEach(r=>{r.classList.remove(t)})}function m(){let e=document.querySelector(".home");if(e){let t=!1,n=!1;return e.style.top="10rem",e.style.left="10rem",setInterval(()=>{let r=document.querySelector(".content").scrollWidth,f=document.querySelector(".content").scrollHeight;[e.style.top,t]=s(parseInt(e.style.top),f-e.scrollHeight,t),[e.style.left,n]=s(parseInt(e.style.left),r-e.scrollWidth,n)},15)}}function s(e,t,n){return n?e>=t?[(e+=2)+"px",!1]:[(e+=2)+"px",!0]:e<1?[e-=2,!0]:[(e-=2)+"px",!1]}
